// ----------------------------------------------- //
//                      CONSTS                     //
// ----------------------------------------------- //

const TelegramBot = require('node-telegram-bot-api');
const token = '528204586:AAHYdc-qE63y_1DSsdr6NP-xCoRH4Ds2QWI';
const bot = new TelegramBot(token, {polling: true});
var fs = require('fs');
var key = JSON.parse(fs.readFileSync('keys.json', 'utf8'));
var group = "KN41";
var options = {
    reply_markup: JSON.stringify({
        inline_keyboard: [
            [{ text: '–ö–ù-41', callback_data: 'KN41' }],
            [{ text: '–ö–ù-42', callback_data: 'KN42' }],
            [{ text: '–ö–ù-21', callback_data: 'KN21' }]
        ],
        parse_mode: 'Markdown'
    })
};

// ----------------------------------------------- //
//                     POZKLAD                     //
// ----------------------------------------------- //

let KN41 = {
    monday : [ 
        [ 8, 00, "–ù–µ–π—Ä–æ–Ω–Ω—ñ –º–µ—Ä–µ–∂—ñ —Ç–∞ –µ–≤–æ–ª—é—Ü. –∞–ª–≥–æ—Ä.", "–î–æ—Ä–æ—à –í.–Ü.", 2303 ],
        [ 9, 35, "–ù–µ–π—Ä–æ–Ω–Ω—ñ –º–µ—Ä–µ–∂—ñ —Ç–∞ –µ–≤–æ–ª—é—Ü. –∞–ª–≥–æ—Ä.", "–î–æ—Ä–æ—à –í.–Ü.", 2305 ],
        [ 11, 10, "–ù–µ–π—Ä–æ–Ω–Ω—ñ –º–µ—Ä–µ–∂—ñ —Ç–∞ –µ–≤–æ–ª—é—Ü—ñ–π–Ω—ñ –∞–ª–≥–æ—Ä–∏—Ç–º–∏", "–ö–æ–º–∞—Ä –ú.–ü.", 2304 ]],
    tuesday : [
        [ 12, 50, "–¢–µ–æ—Ä—ñ—è –ø—Ä–∏–π–Ω—è—Ç—Ç—è —Ä—ñ—à–µ–Ω—å", "–õ–µ–Ω–¥—é–∫ –¢.–í.", 2304 ],
        [ 14, 25, "–¢–µ–æ—Ä—ñ—è –ø—Ä–∏–π–Ω—è—Ç—Ç—è —Ä—ñ—à–µ–Ω—å", "–õ–µ–Ω–¥—é–∫ –¢.–í.", 2303 ],
        [ 16, 00, "–ü—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è –º–æ–±—ñ–ª—å–Ω–∏—Ö –ø—Ä–∏—Å—Ç—Ä–æ—ó–≤", "–ó–∞—Å—Ç–∞–≤–Ω–∏–π –û. –ú.", 2303]],
    wednesday : [
        [ 11, 10, "–ü—Ä–æ–µ–∫—Ç—É–≤–∞–Ω–Ω—è –Ü–°", "–í–∞—Å–∏–ª—å–∫—ñ–≤ –ù.–ú.", 2303 ],
        [ 12, 50, "–Ü–Ω—Ç–µ–ª–µ–∫—Ç—É–∞–ª—å–Ω—ñ —Ä–æ–±–æ—Ç–æ-—Ç–µ—Ö–Ω—ñ—á–Ω—ñ —Å–∏—Å—Ç.", "–û—Å–æ–ª—ñ–Ω—Å—å–∫–∏–π –û.–†.", 2303 ],
        [ 14, 25, "–ü—Ä–æ–µ–∫—Ç—É–≤–∞–Ω–Ω—è –Ü–°", "–í–∞—Å–∏–ª—å–∫—ñ–≤ –ù.–ú." , 2304 ],
        [ 16, 00, "–ü—Ä–æ–µ–∫—Ç—É–≤–∞–Ω–Ω—è –Ü–°", "–í–∞—Å–∏–ª—å–∫—ñ–≤ –ù.–ú." , 2303 ]], // 1/2 —Ç–∏–∂–¥–µ–Ω—å
    thursday : [
        [ 12, 50, "–Ü–Ω—Ç–µ–ª–µ–∫—Ç—É–∞–ª—å–Ω—ñ —Ä–æ–±–æ—Ç–æ-—Ç–µ—Ö–Ω—ñ—á–Ω—ñ —Å–∏—Å—Ç.", "–ö–æ–≤–∞–ª—å –í.–°.", 1210 ],
        [ 14, 25, "–ü—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è –º–æ–±—ñ–ª—å–Ω–∏—Ö –ø—Ä–∏—Å—Ç—Ä–æ—ó–≤", "–ó–∞—Å—Ç–∞–≤–Ω–∏–π –û.–ú.", 1210 ],
        [ 16, 00, "–ü—Ä–æ–µ–∫—Ç—É–≤–∞–Ω–Ω—è –Ü–°", "–í–∞—Å–∏–ª—å–∫—ñ–≤ –ù.–ú." , 2304 ]], // 1/2 —Ç–∏–∂–¥–µ–Ω—å
    friday : [ 
        [ 12, 50, "–¢–µ–æ—Ä—ñ—è –ø—Ä–∏–π–Ω—è—Ç—Ç—è —Ä—ñ—à–µ–Ω—å", "–õ–µ–Ω–¥—é–∫ –¢.–í.", 2304 ],
        [ 14, 25, "–¢–µ–æ—Ä—ñ—è –ø—Ä–∏–π–Ω—è—Ç—Ç—è —Ä—ñ—à–µ–Ω—å", "–õ–µ–Ω–¥—é–∫ –¢.–í.", 2303 ],
        [ 16, 00, "–ü—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è –º–æ–±—ñ–ª—å–Ω–∏—Ö –ø—Ä–∏—Å—Ç—Ä–æ—ó–≤", "–ó–∞—Å—Ç–∞–≤–Ω–∏–π –û. –ú.", 2303 ]]
}; //done
let KN42 = {
    monday : [ 
        ["8:00", "–ù–µ–π—Ä–æ–Ω–Ω—ñ –º–µ—Ä–µ–∂—ñ —Ç–∞ –µ–≤–æ–ª—é—Ü. –∞–ª–≥–æ—Ä.", "–î–æ—Ä–æ—à –í.–Ü.", 2303 ],
        ["9:35", "–ù–µ–π—Ä–æ–Ω–Ω—ñ –º–µ—Ä–µ–∂—ñ —Ç–∞ –µ–≤–æ–ª—é—Ü. –∞–ª–≥–æ—Ä.", "–õ–µ–Ω–¥—é–∫ –¢.–í.", 2303 ],
        ["11:10", "–ù–µ–π—Ä–æ–Ω–Ω—ñ –º–µ—Ä–µ–∂—ñ —Ç–∞ –µ–≤–æ–ª—é—Ü—ñ–π–Ω—ñ –∞–ª–≥–æ—Ä–∏—Ç–º–∏", "–ö–æ–º–∞—Ä –ú.–ü.", 2304 ]],
    tuesday : [
        ["12:50", "–¢–µ–æ—Ä—ñ—è –ø—Ä–∏–π–Ω—è—Ç—Ç—è —Ä—ñ—à–µ–Ω—å", "–õ–µ–Ω–¥—é–∫ –¢.–í.", 2304 ],
        ["14:25", "–¢–µ–æ—Ä—ñ—è –ø—Ä–∏–π–Ω—è—Ç—Ç—è —Ä—ñ—à–µ–Ω—å", "–õ–µ–Ω–¥—é–∫ –¢.–í.", 2303 ],
        ["16:00", "–ü—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è –º–æ–±—ñ–ª—å–Ω–∏—Ö –ø—Ä–∏—Å—Ç—Ä–æ—ó–≤", "–ó–∞—Å—Ç–∞–≤–Ω–∏–π –û. –ú.", 2303]],
    wednesday : [
        ["11:10", "–ü—Ä–æ–µ–∫—Ç—É–≤–∞–Ω–Ω—è –Ü–°", "–í–∞—Å–∏–ª—å–∫—ñ–≤ –ù.–ú.", 2303 ],
        ["12:50", "–Ü–Ω—Ç–µ–ª–µ–∫—Ç—É–∞–ª—å–Ω—ñ —Ä–æ–±–æ—Ç–æ-—Ç–µ—Ö–Ω—ñ—á–Ω—ñ —Å–∏—Å—Ç.", "–û—Å–æ–ª—ñ–Ω—Å—å–∫–∏–π –û.–†.", 2303 ],
        ["14:25", "–ü—Ä–æ–µ–∫—Ç—É–≤–∞–Ω–Ω—è –Ü–°", "–í–∞—Å–∏–ª—å–∫—ñ–≤ –ù.–ú." , 2304 ],
        ["16:00", "–ü—Ä–æ–µ–∫—Ç—É–≤–∞–Ω–Ω—è –Ü–°", "–í–∞—Å–∏–ª—å–∫—ñ–≤ –ù.–ú." , 2303 ]], // 1/2 —Ç–∏–∂–¥–µ–Ω—å
    thursday : [
        ["12:50", "–Ü–Ω—Ç–µ–ª–µ–∫—Ç—É–∞–ª—å–Ω—ñ —Ä–æ–±–æ—Ç–æ-—Ç–µ—Ö–Ω—ñ—á–Ω—ñ —Å–∏—Å—Ç.", "–ö–æ–≤–∞–ª—å –í.–°.", 1210 ],
        ["14:25", "–ü—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è –º–æ–±—ñ–ª—å–Ω–∏—Ö –ø—Ä–∏—Å—Ç—Ä–æ—ó–≤", "–ó–∞—Å—Ç–∞–≤–Ω–∏–π –û.–ú.", 1210 ],
        ["16:00", "–ü—Ä–æ–µ–∫—Ç—É–≤–∞–Ω–Ω—è –Ü–°", "–í–∞—Å–∏–ª—å–∫—ñ–≤ –ù.–ú." , 2304 ]], // 1/2 —Ç–∏–∂–¥–µ–Ω—å
    friday : [ 
        ["12:50", "–¢–µ–æ—Ä—ñ—è –ø—Ä–∏–π–Ω—è—Ç—Ç—è —Ä—ñ—à–µ–Ω—å", "–õ–µ–Ω–¥—é–∫ –¢.–í.", 2304 ],
        ["14:25", "–¢–µ–æ—Ä—ñ—è –ø—Ä–∏–π–Ω—è—Ç—Ç—è —Ä—ñ—à–µ–Ω—å", "–õ–µ–Ω–¥—é–∫ –¢.–í.", 2303 ],
        ["16:00", "–ü—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è –º–æ–±—ñ–ª—å–Ω–∏—Ö –ø—Ä–∏—Å—Ç—Ä–æ—ó–≤", "–ó–∞—Å—Ç–∞–≤–Ω–∏–π –û. –ú.", 2303]]
};
let KN21 = {
    monday : [ 
        ["9:35", "–ê–ª–≥–æ—Ä–∏—Ç–º–∏ —ñ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –¥–∞–Ω–∏—Ö(–ª–µ–∫—Ü—ñ—è)", "–ö–æ–≤–∞–ª—å –í.–°.", 6207 ],
        ["11:10", "–ë–∞–∑–∏ —ñ —Å—Ö–æ–≤–∏—â–∞ –¥–∞–Ω–∏—Ö", "–¢—É—Ä—á–µ–Ω–∫–æ –Ü.–í.", 6104 ],
        ["12:50", "–ê–ª–≥–æ—Ä–∏—Ç–º–∏ —ñ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –¥–∞–Ω–∏—Ö", "–õ—ñ–ø'—è–Ω—ñ–Ω–∞-–ì–æ–Ω—á–∞—Ä–µ–Ω–∫–æ –•.–í.", 6201 ]],
    tuesday : [
        ["9:35", "–°—É—á–∞—Å–Ω—ñ –ø–∞—Ä–∞–¥–∏–≥–º–∏ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è", "–ë–∏–∫–æ–≤–∏–π –ü.–Ñ.", 2303  ],
        ["11:10", "–°—É—á–∞—Å–Ω—ñ –ø–∞—Ä–∞–¥–∏–≥–º–∏ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è", "–ë–∏–∫–æ–≤–∏–π –ü.–Ñ.", 2302 ],
        ["12:50", "–ë–∞–∑–∏ —ñ —Å—Ö–æ–≤–∏—â–∞ –¥–∞–Ω–∏—Ö", "–¢—É—Ä—á–µ–Ω–∫–æ –Ü.–í.", 2303]],
    wednesday : [
        ["8:00", "–ú–∞—Ç–µ–º–∞—Ç–∏—á–Ω–∏–π –∞–Ω–∞–ª—ñ–∑(–ª–µ–∫—Ü—ñ—è)", "–ë–æ–¥–Ω–∞—Ä –î.–Ü.", 6207 ],
        ["9:35", "–ú–∞—Ç–µ–º–∞—Ç–∏—á–Ω–∏–π –∞–Ω–∞–ª—ñ–∑", "–ë–æ–¥–Ω–∞—Ä –î.–Ü.", 6307 ],
        ["11:10", "–Ü–Ω–æ–∑–µ–º–Ω–∞ –º–æ–≤–∞", "–®—Ç–æ—Ö–º–∞–Ω –õ.–ú." , 6502 ]],
    thursday : [
        ["8:00", "–°—É—á–∞—Å–Ω—ñ –ø–∞—Ä–∞–¥–∏–≥–º–∏ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è", "–ë–∏–∫–æ–≤–∏–π –ü.–Ñ.", 2303 ], // 1/2 —Ç–∏–∂–¥–µ–Ω—å
        ["9:35", "–ö–æ–º–ø. –≥—Ä–∞—Ñ—ñ–∫–∞ —Ç–∞ —Ç–µ—Ö–Ω. –≤—ñ–∑—É–∞–ª—ñ–∑. –¥–∞–Ω–∏—Ö", "–¢—É—Ä—á–µ–Ω–∫–æ –Ü.–í.", 2302 ],
        ["11:10", "–ö–æ–º–ø. –≥—Ä–∞—Ñ—ñ–∫–∞ —Ç–∞ —Ç–µ—Ö–Ω. –≤—ñ–∑—É–∞–ª—ñ–∑. –¥–∞–Ω–∏—Ö", "–¢—É—Ä—á–µ–Ω–∫–æ –Ü.–í.", 2303 ],
        ["12:50", "–ë–∞–∑–∏ —ñ —Å—Ö–æ–≤–∏—â–∞ –¥–∞–Ω–∏—Ö", "–¢—É—Ä—á–µ–Ω–∫–æ –Ü.–í.", 2303 ]],
    friday : [ 
        ["9:35", "–°—É—á–∞—Å–Ω—ñ –ø–∞—Ä–∞–¥–∏–≥–º–∏ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è", "–ë–∏–∫–æ–≤–∏–π –ü.–Ñ.", 2303  ],
        ["11:10", "–°—É—á–∞—Å–Ω—ñ –ø–∞—Ä–∞–¥–∏–≥–º–∏ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è", "–ë–∏–∫–æ–≤–∏–π –ü.–Ñ.", 2302 ],
        ["12:50", "–ë–∞–∑–∏ —ñ —Å—Ö–æ–≤–∏—â–∞ –¥–∞–Ω–∏—Ö", "–¢—É—Ä—á–µ–Ω–∫–æ –Ü.–í.", 2303]],
}; //done

// ----------------------------------------------- //
//                    FUNCTIONS                    //
// ----------------------------------------------- //

function noGroup(id) {
    bot.sendMessage(id, "–î–ª—è —Ç–æ–≥–æ, —â–æ–± –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –¥–∞–Ω—É –∫–æ–º–∞–Ω–¥—É, –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ –æ–±—Ä–∞—Ç–∏ –≥—Ä—É–ø—É /start");
}

function numToEn(num){
   var result;
    switch (num) {
        case 1: {
            result = "monday"
            break;
        }
        case 2: {
            result = "tuesday"
            break;
        }
        case 3: {
            result = "wednesday"
            break;
        }
        case 4: {
            result = "thursday"
            break;
        }
        case 5: {
            result = "friday"
            break;
        }
        default: {
            result = "weekend"
            break;
        }
    }
    return result;
}

function numToUkr(num){
    var result;
     switch (num) {
         case 1: {
             result = "–ü–æ–Ω–µ–¥—ñ–ª–æ–∫"
             break;
         }
         case 2: {
             result = "–í—ñ–≤—Ç–æ—Ä–æ–∫"
             break;
         }
         case 3: {
             result = "–°–µ—Ä–µ–¥—É"
             break;
         }
         case 4: {
             result = "–ß–µ—Ç–≤–µ—Ä"
             break;
         }
         case 5: {
             result = "–ü—è—Ç–Ω–∏—Ü—é"
             break;
         }
         default: {
             result = "–í–∏—Ö—ñ–¥–Ω–∏–π"
             break;
         }
     }
     return result;
}

function getNextOne(id, group) {
    var a, p, v, d1, d2, day;

    if (group) {
        var now = new Date();
        if ( (now.getDay() == 6) || (now.getDay() == 7) || ( (now.getDay() == 5) && (now.getHours() > eval( group + ".friday[" + eval( group + ".friday.length - 1") + "][0]" )) )) {
            d1 = eval( group + ".monday[0][0]" );
            d2 = eval( group + ".monday[0][1]" );
            p = eval( group + ".monday[0][2]" );
            v = eval( group + ".monday[0][3]" );
            a = eval( group + ".monday[0][4]" );
            day = "–ü–æ–Ω–µ–¥—ñ–ª–æ–∫";
        } else {
            if ( now.getHours() < eval( group + "." + numToEn(now.getDay()) + "[0][0]" ) ) { // –ë—É–¥–Ω—ñ –¥–æ 1 –ø–∞—Ä–∏
                d1 = eval( group + "." + numToEn(now.getDay()) + "[0][0]" );
                d2 = eval( group + "." + numToEn(now.getDay()) + "[0][1]" );
                p = eval( group + "." + numToEn(now.getDay()) + "[0][2]" );
                v = eval( group + "." + numToEn(now.getDay()) + "[0][3]" );
                a = eval( group + "." + numToEn(now.getDay()) + "[0][4]" );
                day = numToUkr(now.getDay());
            }
            if (now.getHours() > eval( group + "." + numToEn(now.getDay()) + "[" + eval( group + "." + numToEn(now.getDay()) + ".length - 1") + "][0]" )) { // –ë—É–¥–Ω—ñ –ø—ñ—Å–ª—è –æ—Å—Ç–∞–Ω–Ω—å–æ—ó –ø–∞—Ä–∏
                d1 = eval( group + "." + numToEn(now.getDay()+1) + "[0][0]" );
                d2 = eval( group + "." + numToEn(now.getDay()+1) + "[0][1]" );
                p = eval( group + "." + numToEn(now.getDay()+1) + "[0][2]" );
                v = eval( group + "." + numToEn(now.getDay()+1) + "[0][3]" );
                a = eval( group + "." + numToEn(now.getDay()+1) + "[0][4]" );
                day = numToUkr((now.getDay()) + 1);

            }
            // if (  ) { // –Ø–∫—â–æ –¥–∞–Ω–∏–π —á–∞—Å –±—ñ–ª—å—à–µ –ø–µ—Ä—à–æ—ó –ø–∞—Ä–∏ —ñ –º–µ–Ω—à–µ –æ—Å—Ç–∞–Ω–Ω—å–æ—ó –ø–∞—Ä–∏
            //     d1 = eval( group + "." + numToEn(now.getDay()+1) + "[0][0]" );
            //     d2 = eval( group + "." + numToEn(now.getDay()+1) + "[0][1]" );
            //     p = eval( group + "." + numToEn(now.getDay()+1) + "[0][2]" );
            //     v = eval( group + "." + numToEn(now.getDay()+1) + "[0][3]" );
            //     a = eval( group + "." + numToEn(now.getDay()+1) + "[0][4]" );
            //     day = numToUkr(now.getDay());
            // }
        }
        d2 == 0 ? d2 = "00" : d2;
        bot.sendMessage(id, "–í–∞—à–∞ –Ω–∞—Å—Ç—É–ø–Ω–∞ –ø–∞—Ä–∞ –≤ *" + day + "*" + "\nüìö *" + p + "*\nüïî –ü–æ—á–∞—Ç–æ–∫ –æ " + d1 + ":" + d2 + "\nüö™ –ê—É–¥–∏—Ç–æ—Ä—ñ—è ‚Ññ" + a + "\nüë®‚Äçüë¶ –í–∏–∫–ª–∞–¥–∞—á: " + v, { parse_mode: "Markdown" } );
    } else {
        noGroup(id);
    }
}

function getNextDay (id, group) {
    var a, p, v, d1, d2, day;

    if (group) {
        var now = new Date();
        if ( (now.getDay() == 6) || (now.getDay() == 7) || ( (now.getDay() == 5) && (now.getHours() > eval( group + ".friday[" + eval( group + ".friday.length - 1") + "][0]" )) )) {
            d1 = eval( group + ".monday[0][0]" );
            d2 = eval( group + ".monday[0][1]" );
            p = eval( group + ".monday[0][2]" );
            v = eval( group + ".monday[0][3]" );
            a = eval( group + ".monday[0][4]" );
            day = "–≤ –ü–æ–Ω–µ–¥—ñ–ª–æ–∫";
        } else {
            if ( now.getHours() < eval( group + "." + numToEn(now.getDay()) + "[0][0]" ) ) { // –ë—É–¥–Ω—ñ –¥–æ 1 –ø–∞—Ä–∏
                d1 = eval( group + "." + numToEn(now.getDay()) + "[0][0]" );
                d2 = eval( group + "." + numToEn(now.getDay()) + "[0][1]" );
                p = eval( group + "." + numToEn(now.getDay()) + "[0][2]" );
                v = eval( group + "." + numToEn(now.getDay()) + "[0][3]" );
                a = eval( group + "." + numToEn(now.getDay()) + "[0][4]" );
                day = "–≤ " + numToUkr(now.getDay());
            }
            if (now.getHours() > eval( group + "." + numToEn(now.getDay()) + "[" + eval( group + "." + numToEn(now.getDay()) + ".length - 1") + "][0]" )) { // –ë—É–¥–Ω—ñ –ø—ñ—Å–ª—è –æ—Å—Ç–∞–Ω–Ω—å–æ—ó –ø–∞—Ä–∏
                d1 = eval( group + "." + numToEn(now.getDay()+1) + "[0][0]" );
                d2 = eval( group + "." + numToEn(now.getDay()+1) + "[0][1]" );
                p = eval( group + "." + numToEn(now.getDay()+1) + "[0][2]" );
                v = eval( group + "." + numToEn(now.getDay()+1) + "[0][3]" );
                a = eval( group + "." + numToEn(now.getDay()+1) + "[0][4]" );
                day = "–≤ " + numToUkr((now.getDay()) + 1);

            }
                // if (1) {
                //     d1 = eval( group + "." + numToEn(now.getDay()+1) + "[0][0]" );
                //     d2 = eval( group + "." + numToEn(now.getDay()+1) + "[0][1]" );
                //     p = eval( group + "." + numToEn(now.getDay()+1) + "[0][2]" );
                //     v = eval( group + "." + numToEn(now.getDay()+1) + "[0][3]" );
                //     a = eval( group + "." + numToEn(now.getDay()+1) + "[0][4]" );
                //     day = numToUkr("–°—å–æ–≥–æ–¥–Ω—ñ");
                // }
        
        }
        d2 == 0 ? d2 = "00" : d2;
        bot.sendMessage(id, "–í–∞—à–∞ –Ω–∞—Å—Ç—É–ø–Ω–∞ –ø–∞—Ä–∞ *" + day + "*" + "\nüìö *" + p + "*\nüïî –ü–æ—á–∞—Ç–æ–∫ –æ " + d1 + ":" + d2 + "\nüö™ –ê—É–¥–∏—Ç–æ—Ä—ñ—è ‚Ññ" + a + "\nüë®‚Äçüë¶ –í–∏–∫–ª–∞–¥–∞—á: " + v, { parse_mode: "Markdown" } );
    } else {
        noGroup(id);
    }
}
// ----------------------------------------------- //
//                  USER INTERACTION               //
// ----------------------------------------------- //

bot.on("polling_error", (e) => console.log(e));
bot.onText(/start/, (msg, match) => {
        bot.sendMessage(msg.chat.id, "–û–±–µ—Ä—ñ—Ç—å —Å–≤–æ—é –≥—Ä—É–ø—É", options);
        bot.on('callback_query', (q) => {
            group = q.data;
            bot.sendMessage(msg.chat.id, "–í–∏ –æ–±—Ä–∞–ª–∏: *" + q.data + "*", {parse_mode: "Markdown"} )
        });
});

bot.onText(/file/, (msg, match) => {
    if (group) {
        if (group == "KN41") {
            bot.forwardMessage(msg.chat.id, 413671312, 3161);
            } else {
                bot.sendMessage(msg.chat.id, "–í –±–∞–∑—ñ –±–æ—Ç–∞ –≤ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ —Ç—ñ–ª—å–∫–∏ –ö–ù-31, —è–∫—â–æ —É –≤–∞—Å —î —Ñ–∞–π–ª –∑ —Ä–æ–∑–∫–ª–∞–¥–æ–º –¥–ª—è —Å–≤–æ–≥–æ –∫—É—Ä—Å—É, –≤—ñ–¥–ø—Ä–∞–≤—Ç–µ, –±—É–¥—å –ª–∞—Å–∫–∞ —Å—é–¥–∏ @kova1");
            }
    } else {
        noGroup(msg.chat.id);
    }
    });

bot.onText(/\/f (.+)/, function (msg, match) {
    var fromId = msg.from.id;
    var resp = match[1];
    if (resp == "41") {
        bot.forwardMessage(msg.chat.id, 413671312, 3161);
    } else {
        bot.sendMessage(msg.chat.id, "–í –±–∞–∑—ñ –±–æ—Ç–∞ –≤ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ —Ç—ñ–ª—å–∫–∏ –ö–ù-41, —è–∫—â–æ —É –≤–∞—Å —î —Ñ–∞–π–ª –∑ —Ä–æ–∑–∫–ª–∞–¥–æ–º –¥–ª—è —Å–≤–æ–≥–æ –∫—É—Ä—Å—É, –≤—ñ–¥–ø—Ä–∞–≤—Ç–µ, –±—É–¥—å –ª–∞—Å–∫–∞ —Å—é–¥–∏ @kova1");
    }
    }
);

bot.onText(/\/card (.+)/, function (msg, match) {
    var fromId = msg.from.id;
    var resp = match[1];
        if ( msg.chat.id == -1001486935008 ) {
            if (resp == "Roma") {
                bot.sendMessage(msg.chat.id, "5375414115916933 [monobank]\n5168755903290167 [privat24]");
            } else if (resp == "Max") {
                bot.sendMessage(msg.chat.id, "5168757356951709 [privat24]");            
            } else if (resp == "Stariy") {
                bot.sendMessage(msg.chat.id, "5375414106643975 [monobank]");            
            } else {
                bot.sendMessage(msg.chat.id, "Use <b>/card {Roma/Stariy/Max}</b>", { parse_mode: "HTML" } );
            }
        } else {
            bot.sendMessage(msg.chat.id, "This command is not avaliable here");
        }
    }
);

bot.onText(/next/, (msg, match) => {
    getNextOne(msg.chat.id, group);
});

bot.onText(/next_day/, (msg, match) => {
    getNextDay(msg.chat.id, group);
});

// MY OWN COMMANDS

bot.onText(/admin_eblan/, (msg, match) => {
    bot.sendMessage(msg.chat.id, '–ù—É, –Ω—É, ' + msg.from.first_name + ' .. –Ω–∞–ø–∏—Å–∞–≤ –∞–¥–º—ñ–Ω');
});